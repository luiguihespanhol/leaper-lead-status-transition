# ========================================================================================================================================================================
# ========================================================================================================================================================================
# UTILS
# ========================================================================================================================================================================
# ========================================================================================================================================================================


# ========================================================================================================================================================================
# IMPORTS
# ========================================================================================================================================================================
import uuid


# ========================================================================================================================================================================
# SERIALIZA METADATA PARA NAO DAR ERRO AO INSERIR NO POSTGRES
# ========================================================================================================================================================================
def serializa_metadata(obj):
    if isinstance(obj, dict):
        return {k: serializa_metadata(v) for k, v in obj.items()}
    elif isinstance(obj, list):
        return [serializa_metadata(v) for v in obj]
    elif isinstance(obj, uuid.UUID):
        return str(obj)
    elif isinstance(obj, str):
        return obj.replace("\u0000", "")
    else:
        return obj